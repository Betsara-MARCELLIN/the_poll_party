[{"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/index.js":"1","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/App.js":"2","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/reportWebVitals.js":"3","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/VisualitionRoom/VizuRoom.js":"4","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Home/Home.js":"5","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/GameRoom/GameRoom.js":"6","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/VisualitionRoom/UserList.js":"7","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Questions/QuestionList.js":"8","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Classement/Classement.js":"9","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Questions/QuestionListVoting.js":"10","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/EventsTabs/EventsTabs.js":"11","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Questions/QuestionVoting.js":"12","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/ChatRoom/ChatRoom.js":"13","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/VisualitionRoom/QuestionResponse.js":"14","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/useServer.js":"15","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardHeader.js":"16","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Table/Table.js":"17","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/Card.js":"18","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardBody.js":"19","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardFooter.js":"20","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/CustomTabs/CustomTabs.js":"21","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardIcon.js":"22","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/EventsTabs/QuestionForm.js":"23","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardHeaderStyle.js":"24","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardStyle.js":"25","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardIconStyle.js":"26","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/tableStyle.js":"27","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/views/dashboardStyle.js":"28","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardBodyStyle.js":"29","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardFooterStyle.js":"30","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/customTabsStyle.js":"31","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/EventsTabs/schema.js":"32","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react.js":"33","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/ResponsesRoom/ResponsesRoom.js":"34"},{"size":609,"mtime":1612993808663,"results":"35","hashOfConfig":"36"},{"size":675,"mtime":1614724263795,"results":"37","hashOfConfig":"36"},{"size":362,"mtime":1612307134688,"results":"38","hashOfConfig":"36"},{"size":1170,"mtime":1614724263799,"results":"39","hashOfConfig":"36"},{"size":1022,"mtime":1614724263799,"results":"40","hashOfConfig":"36"},{"size":3397,"mtime":1614887058847,"results":"41","hashOfConfig":"36"},{"size":1149,"mtime":1614724263799,"results":"42","hashOfConfig":"36"},{"size":2663,"mtime":1614817388657,"results":"43","hashOfConfig":"36"},{"size":690,"mtime":1614817388657,"results":"44","hashOfConfig":"36"},{"size":1786,"mtime":1614724263799,"results":"45","hashOfConfig":"36"},{"size":1341,"mtime":1614817388657,"results":"46","hashOfConfig":"36"},{"size":8212,"mtime":1614724263799,"results":"47","hashOfConfig":"36"},{"size":1878,"mtime":1614817388645,"results":"48","hashOfConfig":"36"},{"size":5645,"mtime":1614887058847,"results":"49","hashOfConfig":"36"},{"size":7039,"mtime":1614817388689,"results":"50","hashOfConfig":"36"},{"size":1258,"mtime":1612993808623,"results":"51","hashOfConfig":"36"},{"size":2196,"mtime":1612993808623,"results":"52","hashOfConfig":"36"},{"size":1050,"mtime":1612993808623,"results":"53","hashOfConfig":"36"},{"size":1018,"mtime":1612993808623,"results":"54","hashOfConfig":"36"},{"size":1174,"mtime":1612993808623,"results":"55","hashOfConfig":"36"},{"size":2710,"mtime":1612993808623,"results":"56","hashOfConfig":"36"},{"size":1040,"mtime":1612993808623,"results":"57","hashOfConfig":"36"},{"size":3476,"mtime":1614887058847,"results":"58","hashOfConfig":"36"},{"size":2955,"mtime":1612993808663,"results":"59","hashOfConfig":"36"},{"size":794,"mtime":1612993808663,"results":"60","hashOfConfig":"36"},{"size":665,"mtime":1612993808663,"results":"61","hashOfConfig":"36"},{"size":1420,"mtime":1612993808663,"results":"62","hashOfConfig":"36"},{"size":1706,"mtime":1612993808663,"results":"63","hashOfConfig":"36"},{"size":298,"mtime":1612993808663,"results":"64","hashOfConfig":"36"},{"size":1038,"mtime":1612993808663,"results":"65","hashOfConfig":"36"},{"size":1515,"mtime":1612993808663,"results":"66","hashOfConfig":"36"},{"size":164,"mtime":1614724263799,"results":"67","hashOfConfig":"36"},{"size":7001,"mtime":1612993808663,"results":"68","hashOfConfig":"36"},{"size":1471,"mtime":1614887058847,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"1l1ycom",{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"72"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"72"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"138"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/index.js",[],["143","144"],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/App.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/reportWebVitals.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/VisualitionRoom/VizuRoom.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Home/Home.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/GameRoom/GameRoom.js",["145"],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/VisualitionRoom/UserList.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Questions/QuestionList.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Classement/Classement.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Questions/QuestionListVoting.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/EventsTabs/EventsTabs.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Questions/QuestionVoting.js",["146","147","148","149","150","151","152"],"import React from \"react\";\nimport { useState, useEffect } from \"react\";\n\nimport {Row, Col  } from 'reactstrap';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Button from '@material-ui/core/Button';\nimport Countdown from 'react-countdown';\n\nimport Card from \"../Card/Card.js\";\nimport CardHeader from \"../Card/CardHeader.js\";\nimport CardIcon from \"../Card/CardIcon.js\";\nimport CardBody from \"../Card/CardBody.js\";\nimport CardFooter from \"../Card/CardFooter.js\";\n\nimport \"./Question.css\";\n\nimport styles from \"../../assets/jss/material-dashboard-react/views/dashboardStyle\";\n\nconst useStyles = makeStyles(styles);\n\nconst QuestionVoting = (props) => {\n    const {questionsVoting, sendQuestionVotingResult, orderQuestionsListVote, sendResponseVote} = props;\n    const [vote, setVote] = useState(\"null\");\n    const classes = useStyles();\n\n    \n    const displayTitle = ()=>{\n        if(questionsVoting[0] == null){\n            return \n        }\n        switch(questionsVoting[0].type_data){\n            case \"Question\":\n                return <h3 className={classes.cardTitle}>{questionsVoting[0].question}</h3>\n            case \"Order\":\n                return <h3 className={classes.cardTitle}>Voter pour la prochaine question</h3>\n            case \"Responses\":\n                return <h3 className={classes.cardTitle}>Voter pour la meilleure réponse</h3>\n            default: return\n        }\n    }\n\n    const displayBody= ()=>{\n        if(questionsVoting[0] == null){\n            return <h4 className=\"text-center\">En attente d'évènement</h4>\n        }\n\n        \n        switch(questionsVoting[0].type_data){\n            case \"Question\":\n                return <Row className=\"text-center\">\n                            <Col md=\"2\"><h4>Type : <span>{questionsVoting[0].type}</span> </h4></Col>\n                            <Col md=\"10\"><h4>Réponse : <span>{questionsVoting[0].answer}</span></h4></Col>\n                            \n                        </Row>\n            case \"Order\":\n                return \n            case \"Responses\":\n                return\n            default: return\n        }\n\n    }\n\n    const displayFooter = ()=>{\n        if(questionsVoting[0] == null){\n            return \n        }\n        switch(questionsVoting[0].type_data){\n            case \"Question\":\n                if (vote == \"null\") {\n                    return <CardFooter stats >\n                                <Button className=\"voting-button-yes\" variant=\"contained\" color=\"primary\" onClick={() => { handleSetVote(1) }}>Pour</Button>\n                                <Button className=\"voting-button-no\" variant=\"contained\" color=\"secondary\" onClick={() => { handleSetVote(-1)}}>Contre</Button>\n                            </CardFooter>\n                }\n                return <h4 className=\"text-center\">A voté !</h4>\n            case \"Order\":\n                console.log(questionsVoting[0])\n                return  //<Button  variant=\"contained\" color=\"primary\" > Envoyer</Button>\n            case \"Responses\":\n                return //<Button  variant=\"contained\" color=\"primary\" > Envoyer</Button>\n            default: return <h4 className=\"text-center\">A voté !</h4>\n        }\n\n    }\n    const handleSetVote = (newVote)=>{\n        setVote(newVote);\n        sendQuestionVotingResult(newVote,questionsVoting,questionsVoting[0])\n        setVote(\"null\")\n    }\n\n    const senderResult =() => {\n        if(vote == \"null\"){  \n            sendQuestionVotingResult(0,questionsVoting, questionsVoting[0])\n        }\n        setVote(\"null\")\n    }\n    const handleSendOrder = (data) =>{\n        orderQuestionsListVote(questionsVoting[0][data],questionsVoting,questionsVoting[0])\n    }\n    const handleSendOResponseVote = (q,u) =>{\n        sendResponseVote(q, u,questionsVoting,questionsVoting[0])\n    }\n\n    const renderer = ({ seconds, completed }) => {\n        if(questionsVoting[0] != null){\n            if (completed) {\n                return \"30\";\n            } else {\n            return (<span>{seconds}</span>);\n            }\n        }\n      };\n    \n    const renderTimer = () => {\n        if(questionsVoting[0] != null){\n            return (<Countdown date={Date.now() + 30000} renderer={renderer} /*onComplete={senderResult}*/ />);\n        }else \n            return \"30\"\n    }\n\n    useEffect(() => {\n        renderTimer();\n      });\n\n    return(\n        <Row>\n            <Col md=\"12\">\n                <Card>\n                    <CardHeader color=\"info\" icon>\n                        <CardIcon color=\"info\">\n                            <Icon>Voter pour la Question</Icon>\n                        </CardIcon>\n                        <CardIcon color=\"warning\" className=\"voting-timer\">\n                            <Icon>\n                                {renderTimer()}\n                            </Icon>\n                        </CardIcon>\n                        {displayTitle()}\n                    </CardHeader>\n                    <CardBody>\n                    {displayBody()}\n\n                    {questionsVoting[0]? questionsVoting[0].type_data == \"Order\" ? \n                    <Row>\n                        {questionsVoting.map(questions =>{\n                            return Object.values(questions).map(question=>{\n                                if(question.question){\n                                    if(!question.isDisable)\n                                        return <Col md=\"6\">\n                                                    <Card onClick={() => { handleSendOrder(question.id) }}>\n                                                        <CardHeader color=\"success\">\n                                                            {question.question}\n                                                        </CardHeader>\n                                                        <CardBody>\n                                                            <Row>\n                                                                <Col md=\"2\">\n                                                                    {question.type}\n                                                                </Col>\n                                                                <Col md=\"10\">\n                                                                    {question.answer} \n                                                                </Col>\n                                                            </Row>\n                                                            \n                                                        </CardBody>\n                                                    </Card>\n                                                </Col>\n                                        \n                                }\n\n                            })\n                        })}</Row>:<div></div>:<div></div>}\n\n                    {questionsVoting[0]? questionsVoting[0].type_data == \"Responses\" ? \n                    <Row>\n                        {questionsVoting.map(responses =>{\n                            return Object.values(responses).map(response=>{\n                                if(response.response)\n                                    return <Col md=\"6\">\n                                                <Card onClick={() => {handleSendOResponseVote(response.questionId, response.senderId) }}>\n                                                    <CardHeader color=\"success\">\n                                                        {response.name}\n                                                    </CardHeader>\n                                                    <CardBody>\n                                                        <img className=\"media\" src={response.response} alt={response.name}/>\n                                                    </CardBody>\n                                                </Card>\n                                            </Col>\n                            })\n                        })}</Row>:<div></div>:<div></div>}\n                    </CardBody>\n                    {displayFooter()}\n                </Card>\n            </Col>\n        </Row>\n    )\n}\nexport default QuestionVoting;","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/ChatRoom/ChatRoom.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/VisualitionRoom/QuestionResponse.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/useServer.js",["153"],"import { useEffect, useRef, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\n\nconst NEW_MESSAGE_EVENT = \"newMessage\";\nconst NEW_QUESTIONS = \"addQuestions\";\nconst NEW_VOTING_QUESTIONS = \"addQuestionsforVoting\";\nconst NEW_VOTING_QUESTIONS_RESPONSE = \"addQuestionsforVotingResponse\";\nconst UPDATE_QUESTION = \"updateQuestion\";\nconst UPDATE_QUESTIONS_ORDER = \"updateQuestionsOrder\";\nconst UPDATE_QUESTIONS_ORDER_VOTING = \"updateQuestionsOrderVoting\";\nconst RANKING = \"ranking\";\nconst RESPONSES = \"responses\";\nconst RESPONSES_VOTING = \"responsesVoting\";\n\nconst CLOSE_QUESTION = \"closeQuestion\";\nconst CLOSE_GAME = \"closeGame\";\nconst DATA_GAME = \"dataGame\";\n\nconst SOCKET_SERVER_URL = \"http://127.0.0.1:3000\";\n\nconst useServer = (roomId, publicName) => {\n    const [messages, setMessages] = useState([]);\n    const [questionsVoting, setQuestionsVoting] = useState([]);\n    const [questions, setQuestions] = useState([]);\n    const [competitorRanking, setCompetitorRanking] = useState([]);\n    const [publicsRanking, setPublicsRanking] = useState([]);\n    const [responses, setResponses] = useState([]);\n    const [isClosedQuestion, setIsClosedQuestion] = useState(false);\n    const [isClosedGame, setIsClosedGame] = useState(false);\n\n    const [publics, setPublics] = useState([]);\n    const [competitors, setCompetitors] = useState([]);\n    const socketRef = useRef();\n\n    useEffect(() => {\n        socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\n            query: { roomId, publicName },\n        });\n\n        socketRef.current.on(NEW_MESSAGE_EVENT, (message) => {\n            const incomingMessage = {\n                ...message,\n                ownedByCurrentUser: message.senderId === socketRef.current.id,\n            };\n            setMessages((messages) => [...messages, incomingMessage]);\n        });\n\n        socketRef.current.on(NEW_VOTING_QUESTIONS, (questionVoting) => {\n            const incomingQuestion = {\n                ...questionVoting,\n                type_data : \"Question\",\n            };\n            setQuestionsVoting((questionsVoting) => [...questionsVoting, incomingQuestion,]);\n        });\n\n        socketRef.current.on(UPDATE_QUESTIONS_ORDER, (questions) => {\n            setQuestions(questions);\n        });\n        \n        socketRef.current.on(UPDATE_QUESTIONS_ORDER_VOTING, (questions) => {\n            const incomingQuestions = {\n                ...questions,\n                type_data : \"Order\",\n            };\n            setQuestionsVoting((questionsVoting) => [...questionsVoting, incomingQuestions,]);\n        });\n\n        socketRef.current.on(NEW_QUESTIONS, (question) => {\n            if (question !== \"refuse\") {\n                const incomingQuestion = {\n                    ...question[0],\n                };\n                setQuestions((questions) => [...questions, incomingQuestion]);\n            }\n        });\n        \n        socketRef.current.on(UPDATE_QUESTION, (questions) => {\n            let newQuestions =  questions;\n\n            /*newQuestions.forEach(quest => {\n                if(quest[0].id === question[0].id){\n                    quest[0].isDisable = true;\n                }\n            })*/\n            setQuestions(newQuestions)\n\n        });\n\n        socketRef.current.on(RANKING, (rank) => {\n            console.log(rank.ranking[0]);\n            setCompetitorRanking(getRankData(rank.ranking));\n        });\n\n        socketRef.current.on(RESPONSES, (userResponses) => {\n            if(userResponses[0].type === \"Photo\"){\n                const incomingResponse = {\n                    ...userResponses,\n                    type_data : \"Responses\",\n                };\n                setQuestionsVoting((ResponsesVoting) => [...ResponsesVoting, incomingResponse,]);\n            }\n            setResponses(userResponses)\n        });\n\n        socketRef.current.on(CLOSE_QUESTION, (bool) => {\n            setIsClosedQuestion(bool);\n        });\n\n        socketRef.current.on(CLOSE_GAME, (bool) => {\n            socketRef.current.emit(CLOSE_GAME,\"\");\n        });\n\n        socketRef.current.on(DATA_GAME, (data) => {\n            setQuestions(data.questionList)\n            setResponses(data.responses)\n            setPublics(data.publics)\n            setCompetitors(data.competitors)\n            setCompetitorRanking(getRankData(data.competitorRanking))\n            setPublicsRanking(getRankData(data.publicRanking))\n            setIsClosedGame(data.bool);\n        });\n\n        return () => {\n            socketRef.current.disconnect();\n        };\n    }, [roomId]);\n\n    const sendMessage = (messageBody) => {\n        socketRef.current.emit(NEW_MESSAGE_EVENT, {\n            body: messageBody,\n            senderId: socketRef.current.id,\n        });\n    };\n\n    const sendQuestion = (question, responses, type, timer) => {\n        socketRef.current.emit(NEW_VOTING_QUESTIONS, {\n            question: question,\n            answer: responses,\n            type: type,\n            timer: timer,\n            senderId: socketRef.current.id,\n        });\n    };\n    const sendQuestionVotingResult = (vote, questionlist, question) => {\n        socketRef.current.emit(NEW_VOTING_QUESTIONS_RESPONSE, {\n            question: question,\n            vote: vote,\n        });\n        removeItemOnceFromQuestionsVoting(questionlist, question);\n    };\n    const orderQuestionsList = (questionsList) =>{\n        socketRef.current.emit(UPDATE_QUESTIONS_ORDER, questionsList);\n    }\n    const orderQuestionsListVote = (vote, questionlist, question) =>{\n        socketRef.current.emit(UPDATE_QUESTIONS_ORDER_VOTING, vote);\n        removeItemOnceFromQuestionsVoting(questionlist, question);\n    }\n    const sendResponseVote = (questionID,userID, questionlist, question) =>{\n        socketRef.current.emit(RESPONSES_VOTING, {\n            questionID : questionID,\n            userID: userID,\n        });\n        removeItemOnceFromQuestionsVoting(questionlist, question);\n    }\n\n    const removeItemOnceFromQuestionsVoting = (arr, value) => {\n        var array = [...arr];\n        var index = -1;\n        if (array[0] != null) {\n            array.forEach((element, i) => {\n                if (element.id === value.id) {\n                    index = element;\n                }\n            });\n        }\n\n        if (index !== -1) {\n            array.splice(index, 1);\n        }\n        setQuestionsVoting(array);\n    };\n\n    const getRankData= (rank)=>{\n        let ranks = [];\n        rank.forEach((c, i) => {\n            const incomingRank = [i + 1, c.name, c.score];\n            ranks.push(incomingRank);\n        });\n        return ranks;\n    }\n    \n\n\n    return {\n        messages,\n        questionsVoting,\n        questions,\n        competitorRanking,\n        publicsRanking,\n        responses,\n        isClosedQuestion,\n        isClosedGame,\n        publics,\n        competitors,\n        sendMessage,\n        sendQuestion,\n        sendQuestionVotingResult,\n        orderQuestionsList,\n        orderQuestionsListVote,\n        sendResponseVote,\n    };\n};\n\nexport default useServer;\n","/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardHeader.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Table/Table.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/Card.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardBody.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardFooter.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/CustomTabs/CustomTabs.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/Card/CardIcon.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/EventsTabs/QuestionForm.js",["154"],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardHeaderStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardIconStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/tableStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/views/dashboardStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardBodyStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/cardFooterStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react/components/customTabsStyle.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/EventsTabs/schema.js",["155"],"export default {\n\ttype: 'object',\n\tproperties: {\n\t\tquestion: { type: 'string'},\n\t\treponses: { type: 'string', maxLength: 120 }\n\t},\n\trequired: [\n\t\t'question',\n\t],\n};",["156","157"],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/assets/jss/material-dashboard-react.js",[],"/home/btsar/STUDY/SI5/INTERFACES_TACTILES_ET_REPARTIES/the_poll_party/front_web/the_poll_party_web/src/Component/ResponsesRoom/ResponsesRoom.js",["158","159"],{"ruleId":"160","replacedBy":"161"},{"ruleId":"162","replacedBy":"163"},{"ruleId":"164","severity":1,"message":"165","line":4,"column":26,"nodeType":"166","messageId":"167","endLine":4,"endColumn":31},{"ruleId":"168","severity":1,"message":"169","line":71,"column":26,"nodeType":"170","messageId":"171","endLine":71,"endColumn":28},{"ruleId":"164","severity":1,"message":"172","line":93,"column":11,"nodeType":"166","messageId":"167","endLine":93,"endColumn":23},{"ruleId":"168","severity":1,"message":"169","line":94,"column":17,"nodeType":"170","messageId":"171","endLine":94,"endColumn":19},{"ruleId":"168","severity":1,"message":"169","line":145,"column":71,"nodeType":"170","messageId":"171","endLine":145,"endColumn":73},{"ruleId":"173","severity":1,"message":"174","line":148,"column":73,"nodeType":"175","messageId":"176","endLine":148,"endColumn":75},{"ruleId":"168","severity":1,"message":"169","line":175,"column":71,"nodeType":"170","messageId":"171","endLine":175,"endColumn":73},{"ruleId":"173","severity":1,"message":"174","line":178,"column":73,"nodeType":"175","messageId":"176","endLine":178,"endColumn":75},{"ruleId":"177","severity":1,"message":"178","line":127,"column":8,"nodeType":"179","endLine":127,"endColumn":16,"suggestions":"180"},{"ruleId":"164","severity":1,"message":"181","line":17,"column":11,"nodeType":"166","messageId":"167","endLine":17,"endColumn":31},{"ruleId":"182","severity":1,"message":"183","line":1,"column":1,"nodeType":"184","endLine":10,"endColumn":3},{"ruleId":"160","replacedBy":"185"},{"ruleId":"162","replacedBy":"186"},{"ruleId":"164","severity":1,"message":"187","line":5,"column":8,"nodeType":"166","messageId":"167","endLine":5,"endColumn":12},{"ruleId":"164","severity":1,"message":"188","line":8,"column":10,"nodeType":"166","messageId":"167","endLine":8,"endColumn":17},"no-native-reassign",["189"],"no-negated-in-lhs",["190"],"no-unused-vars","'toast' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'senderResult' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'publicName'. Either include it or remove the dependency array.","ArrayExpression",["191"],"'handleChangeResponse' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",["189"],["190"],"'Card' is defined but never used.","'Divider' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"192","fix":"193"},"Update the dependencies array to be: [publicName, roomId]",{"range":"194","text":"195"},[4538,4546],"[publicName, roomId]"]